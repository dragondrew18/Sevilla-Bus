!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];for(r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){return t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e,n){var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),n.length>0&&n.shift()())},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i=typeof t;if("base64"===e&&"string"===i)for(t=x(t);t.length%4!=0;)t+="=";var o;if("number"===i)o=L(t);else if("string"===i)o=r.byteLength(t,e);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");o=L(t.length)}var s;r._useTypedArrays?s=N(new Uint8Array(o)):((s=this).length=o,s._isBuffer=!0);var a;if(r._useTypedArrays&&"function"==typeof Uint8Array&&t instanceof Uint8Array)s._set(t);else if(C(t))for(a=0;a<o;a++)r.isBuffer(t)?s[a]=t.readUInt8(a):s[a]=t[a];else if("string"===i)s.write(t,0,e);else if("number"===i&&!r._useTypedArrays&&!n)for(a=0;a<o;a++)s[a]=0;return s}function i(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var s=e.length;X(s%2==0,"Invalid hex string"),i>s/2&&(i=s/2);for(var a=0;a<i;a++){var u=parseInt(e.substr(2*a,2),16);X(!isNaN(u),"Invalid hex string"),t[n+a]=u}return r._charsWritten=2*a,a}function o(t,e,n,i){return r._charsWritten=P(O(e),t,n,i)}function s(t,e,n,i){return r._charsWritten=P(R(e),t,n,i)}function a(t,e,n,r){return s(t,e,n,r)}function u(t,e,n,i){return r._charsWritten=P(B(e),t,n,i)}function c(t,e,n){return 0===e&&n===t.length?V.fromByteArray(t):V.fromByteArray(t.slice(e,n))}function l(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;o<n;o++)t[o]<=127?(r+=j(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+j(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function h(t,e,n){return f(t,e,n)}function p(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=M(t[o]);return i}function d(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(o=t[e],e+1<i&&(o|=t[e+1]<<8)):(o=t[e]<<8,e+1<i&&(o|=t[e+1])),o}}function g(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(e+2<i&&(o=t[e+2]<<16),e+1<i&&(o|=t[e+1]<<8),o|=t[e],e+3<i&&(o+=t[e+3]<<24>>>0)):(e+1<i&&(o=t[e+1]<<16),e+2<i&&(o|=t[e+2]<<8),e+3<i&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function m(t,e,n,r){if(r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+1<t.length,"Trying to read beyond buffer length")),!(e>=t.length)){var i=d(t,e,n,!0);return 32768&i?-1*(65535-i+1):i}}function y(t,e,n,r){if(r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+3<t.length,"Trying to read beyond buffer length")),!(e>=t.length)){var i=g(t,e,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function v(t,e,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(e+3<t.length,"Trying to read beyond buffer length")),q.read(t,e,n,23,4)}function b(t,e,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(e+7<t.length,"Trying to read beyond buffer length")),q.read(t,e,n,52,8)}function w(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<t.length,"trying to write beyond buffer length"),k(e,65535));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,2);s<a;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function E(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"trying to write beyond buffer length"),k(e,4294967295));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,4);s<a;s++)t[n+s]=e>>>8*(r?s:3-s)&255}function _(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<t.length,"Trying to write beyond buffer length"),U(e,32767,-32768)),n>=t.length||(e>=0?w(t,e,n,r,i):w(t,65535+e+1,n,r,i))}function T(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"Trying to write beyond buffer length"),U(e,2147483647,-2147483648)),n>=t.length||(e>=0?E(t,e,n,r,i):E(t,4294967295+e+1,n,r,i))}function A(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"Trying to write beyond buffer length"),F(e,3.4028234663852886e38,-3.4028234663852886e38)),n>=t.length||q.write(t,e,n,r,23,4)}function I(t,e,n,r,i){i||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+7<t.length,"Trying to write beyond buffer length"),F(e,1.7976931348623157e308,-1.7976931348623157e308)),n>=t.length||q.write(t,e,n,r,52,8)}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function N(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=W.get,t.set=W.set,t.write=W.write,t.toString=W.toString,t.toLocaleString=W.toString,t.toJSON=W.toJSON,t.copy=W.copy,t.slice=W.slice,t.readUInt8=W.readUInt8,t.readUInt16LE=W.readUInt16LE,t.readUInt16BE=W.readUInt16BE,t.readUInt32LE=W.readUInt32LE,t.readUInt32BE=W.readUInt32BE,t.readInt8=W.readInt8,t.readInt16LE=W.readInt16LE,t.readInt16BE=W.readInt16BE,t.readInt32LE=W.readInt32LE,t.readInt32BE=W.readInt32BE,t.readFloatLE=W.readFloatLE,t.readFloatBE=W.readFloatBE,t.readDoubleLE=W.readDoubleLE,t.readDoubleBE=W.readDoubleBE,t.writeUInt8=W.writeUInt8,t.writeUInt16LE=W.writeUInt16LE,t.writeUInt16BE=W.writeUInt16BE,t.writeUInt32LE=W.writeUInt32LE,t.writeUInt32BE=W.writeUInt32BE,t.writeInt8=W.writeInt8,t.writeInt16LE=W.writeInt16LE,t.writeInt16BE=W.writeInt16BE,t.writeInt32LE=W.writeInt32LE,t.writeInt32BE=W.writeInt32BE,t.writeFloatLE=W.writeFloatLE,t.writeFloatBE=W.writeFloatBE,t.writeDoubleLE=W.writeDoubleLE,t.writeDoubleBE=W.writeDoubleBE,t.fill=W.fill,t.inspect=W.inspect,t.toArrayBuffer=W.toArrayBuffer,t}function D(t,e,n){return"number"!=typeof t?n:(t=~~t)>=e?e:t>=0?t:(t+=e,t>=0?t:0)}function L(t){return t=~~Math.ceil(+t),t<0?0:t}function S(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function C(t){return S(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function O(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(t.charCodeAt(n));else{var i=n;r>=55296&&r<=57343&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function R(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function B(t){return V.toByteArray(t)}function P(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function j(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function k(t,e){X("number"==typeof t,"cannot write a non-number as a number"),X(t>=0,"specified a negative value for writing an unsigned value"),X(t<=e,"value is larger than maximum value for type"),X(Math.floor(t)===t,"value has a fractional component")}function U(t,e,n){X("number"==typeof t,"cannot write a non-number as a number"),X(t<=e,"value larger than maximum allowed value"),X(t>=n,"value smaller than minimum allowed value"),X(Math.floor(t)===t,"value has a fractional component")}function F(t,e,n){X("number"==typeof t,"cannot write a non-number as a number"),X(t<=e,"value larger than maximum allowed value"),X(t>=n,"value smaller than minimum allowed value")}function X(t,e){if(!t)throw new Error(e||"Failed assertion")}var V=t("base64-js"),q=t("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer)return!1;try{var t=new Uint8Array(0);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(t){return!1}}(),r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=O(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=B(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(t,e){if(X(S(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new r(0);if(1===t.length)return t[0];var n;if("number"!=typeof e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,o),o+=s.length}return i},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var c=r;r=e,e=n,n=c}e=Number(e)||0;var l=this.length-e;switch(n?(n=Number(n))>l&&(n=l):n=l,r=String(r||"utf8").toLowerCase()){case"hex":return i(this,t,e,n);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,t,e,n);case"ascii":return s(this,t,e,n);case"binary":return a(this,t,e,n);case"base64":return u(this,t,e,n);default:throw new Error("Unknown encoding")}},r.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,(n=void 0!==n?Number(n):n=r.length)===e)return"";switch(t){case"hex":return p(r,e,n);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(r,e,n);case"ascii":return f(r,e,n);case"binary":return h(r,e,n);case"base64":return c(r,e,n);default:throw new Error("Unknown encoding")}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==i.length){X(r>=n,"sourceEnd < sourceStart"),X(e>=0&&e<t.length,"targetStart out of bounds"),X(n>=0&&n<i.length,"sourceStart out of bounds"),X(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);for(var o=0;o<r-n;o++)t[o+e]=this[o+n]}},r.prototype.slice=function(t,e){var n=this.length;if(t=D(t,n,0),e=D(e,n,n),r._useTypedArrays)return N(this.subarray(t,e));for(var i=e-t,o=new r(i,void 0,!0),s=0;s<i;s++)o[s]=this[s+t];return o},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.readUInt8=function(t,e){if(e||(X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},r.prototype.readUInt16LE=function(t,e){return d(this,t,!0,e)},r.prototype.readUInt16BE=function(t,e){return d(this,t,!1,e)},r.prototype.readUInt32LE=function(t,e){return g(this,t,!0,e)},r.prototype.readUInt32BE=function(t,e){return g(this,t,!1,e)},r.prototype.readInt8=function(t,e){if(e||(X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){return m(this,t,!0,e)},r.prototype.readInt16BE=function(t,e){return m(this,t,!1,e)},r.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},r.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},r.prototype.readFloatLE=function(t,e){return v(this,t,!0,e)},r.prototype.readFloatBE=function(t,e){return v(this,t,!1,e)},r.prototype.readDoubleLE=function(t,e){return b(this,t,!0,e)},r.prototype.readDoubleBE=function(t,e){return b(this,t,!1,e)},r.prototype.writeUInt8=function(t,e,n){n||(X(void 0!==t&&null!==t,"missing value"),X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"trying to write beyond buffer length"),k(t,255)),e>=this.length||(this[e]=t)},r.prototype.writeUInt16LE=function(t,e,n){w(this,t,e,!0,n)},r.prototype.writeUInt16BE=function(t,e,n){w(this,t,e,!1,n)},r.prototype.writeUInt32LE=function(t,e,n){E(this,t,e,!0,n)},r.prototype.writeUInt32BE=function(t,e,n){E(this,t,e,!1,n)},r.prototype.writeInt8=function(t,e,n){n||(X(void 0!==t&&null!==t,"missing value"),X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"Trying to write beyond buffer length"),U(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n))},r.prototype.writeInt16LE=function(t,e,n){_(this,t,e,!0,n)},r.prototype.writeInt16BE=function(t,e,n){_(this,t,e,!1,n)},r.prototype.writeInt32LE=function(t,e,n){T(this,t,e,!0,n)},r.prototype.writeInt32BE=function(t,e,n){T(this,t,e,!1,n)},r.prototype.writeFloatLE=function(t,e,n){A(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){A(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){I(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){I(this,t,e,!1,n)},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),X("number"==typeof t&&!isNaN(t),"value is not a number"),X(n>=e,"end < start"),n!==e&&0!==this.length){X(e>=0&&e<this.length,"start out of bounds"),X(n>=0&&n<=this.length,"end out of bounds");for(var r=e;r<n;r++)this[r]=t}},r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;r<e;r++)if(t[r]=M(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(r._useTypedArrays)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var W=r.prototype},{"base64-js":5,ieee754:6}],5:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function n(t){var e=t.charCodeAt(0);return e===o?62:e===s?63:e<a?-1:e<a+10?e-a+26+26:e<c+26?e-c:e<u+26?e-u+26:void 0}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o=("0".charCodeAt(0),"+".charCodeAt(0)),s="/".charCodeAt(0),a="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0);e.exports.toByteArray=function(t){function e(t){c[f++]=t}var r,o,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new i(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,o=0;r<s;r+=4,o+=3)e((16711680&(a=n(t.charAt(r))<<18|n(t.charAt(r+1))<<12|n(t.charAt(r+2))<<6|n(t.charAt(r+3))))>>16),e((65280&a)>>8),e(255&a);return 2===u?e(255&(a=n(t.charAt(r))<<2|n(t.charAt(r+1))>>4)):1===u&&(e((a=n(t.charAt(r))<<10|n(t.charAt(r+1))<<4|n(t.charAt(r+2))>>2)>>8&255),e(255&a)),c},e.exports.fromByteArray=function(t){function e(t){return r.charAt(t)}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;n<o;n+=3)a+=function(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}(i=(t[n]<<16)+(t[n+1]<<8)+t[n+2]);switch(s){case 1:a+=e((i=t[t.length-1])>>2),a+=e(i<<4&63),a+="==";break;case 2:a+=e((i=(t[t.length-2]<<8)+t[t.length-1])>>10),a+=e(i>>4&63),a+=e(i<<2&63),a+="="}return a}}()},{}],6:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*g}},{}],7:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);a.call(this,t),u.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){if(!this.allowHalfOpen&&!this._writableState.ended){var t=this;s(function(){t.end()})}}e.exports=r;var o=t("inherits"),s=t("process/browser.js").nextTick,a=t("./readable.js"),u=t("./writable.js");o(r,a),r.prototype.write=u.prototype.write,r.prototype.end=u.prototype.end,r.prototype._write=u.prototype._write},{"./readable.js":11,"./writable.js":13,inherits:2,"process/browser.js":9}],8:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter;t("inherits")(r,i),r.Readable=t("./readable.js"),r.Writable=t("./writable.js"),r.Duplex=t("./duplex.js"),r.Transform=t("./transform.js"),r.PassThrough=t("./passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),t.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),t.on("error",a),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},{"./duplex.js":7,"./passthrough.js":10,"./readable.js":11,"./transform.js":12,"./writable.js":13,events:1,inherits:2}],9:[function(t,e,n){e.exports=t(3)},{}],10:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}e.exports=r;var i=t("./transform.js");t("inherits")(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./transform.js":12,inherits:2}],11:[function(t,e,n){(function(n){function r(e,n){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(T||(T=t("string_decoder").StringDecoder),this.decoder=new T(e.encoding),this.encoding=e.encoding)}function i(t){if(!(this instanceof i))return new i(t);this._readableState=new r(t,this),this.readable=!0,I.call(this)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(null===n||void 0===n)e.reading=!1,e.ended||l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||i||r||(n=e.decoder.write(n)),e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):(e.reading=!1,e.buffer.push(n)),e.needReadable&&f(t),p(t,e);else i||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=D)t=D;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||null===t?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return x.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.length>0?f(t):w(t)}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?N(function(){h(t)}):h(t))}function h(t){t.emit("readable")}function p(t,e){e.readingMore||(e.readingMore=!0,N(function(){d(t,e)}))}function d(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;0===--e.awaitDrain&&m(t)}}function m(t){function e(t,e,i){!1===t.write(n)&&r.awaitDrain++}var n,r=t._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=t.read());)if(1===r.pipesCount?e(r.pipes,0,null):E(r.pipes,e),t.emit("data",n),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(A.listenerCount(t,"data")>0&&v(t));r.ranOut=!0}function y(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function v(t,e){if(t._readableState.flowing)throw new Error("Cannot switch to old mode now.");var n=e||!1,r=!1;t.readable=!0,t.pipe=I.prototype.pipe,t.on=t.addListener=I.prototype.on,t.on("readable",function(){r=!0;for(var e;!n&&null!==(e=t.read());)t.emit("data",e);null===e&&(r=!1,t._readableState.needReadable=!0)}),t.pause=function(){n=!0,this.emit("pause")},t.resume=function(){n=!1,r?N(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function b(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=o?r.join(""):x.concat(r,i),r.length=0;else if(t<r[0].length)n=(l=r[0]).slice(0,t),r[0]=l.slice(t);else if(t===r[0].length)n=r.shift();else{n=o?"":new x(t);for(var a=0,u=0,c=r.length;u<c&&a<t;u++){var l=r[0],f=Math.min(t-a,l.length);o?n+=l.slice(0,f):l.copy(n,a,0,f),f<l.length?r[0]=l.slice(f):r.shift(),a+=f}}return n}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,N(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function E(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function _(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}e.exports=i,i.ReadableState=r;var T,A=t("events").EventEmitter,I=t("./index.js"),x=t("buffer").Buffer,N=t("process/browser.js").nextTick;t("inherits")(i,I),i.prototype.push=function(t,e){var n=this._readableState;return"string"!=typeof t||n.objectMode||(e=e||n.defaultEncoding)!==n.encoding&&(t=new x(t,e),e=""),o(this,n,t,e,!1)},i.prototype.unshift=function(t){return o(this,this._readableState,t,"",!0)},i.prototype.setEncoding=function(e){T||(T=t("string_decoder").StringDecoder),this._readableState.decoder=new T(e),this._readableState.encoding=e};var D=8388608;i.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&w(this),null;var r=e.needReadable;e.length-t<=e.highWaterMark&&(r=!0),(e.ended||e.reading)&&(r=!1),r&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return null===(i=t>0?b(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&w(this),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function r(t){t===l&&o()}function i(){t.end()}function o(){t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),t._writableState&&!t._writableState.needDrain||p()}function s(e){c(),0===d&&0===A.listenerCount(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",u),c()}function u(){t.removeListener("close",a),c()}function c(){l.unpipe(t)}var l=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1;var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?i:o;f.endEmitted?N(h):l.once("end",h),t.on("unpipe",r);var p=g(l);t.on("drain",p);var d=A.listenerCount(t,"error");return t.once("error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",l),f.flowing||(this.on("readable",y),f.flowing=!0,N(function(){m(l)})),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",y),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",y),e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=_(e.pipes,t))?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=I.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||v(this),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&f(this):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){v(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){v(this,!0),this.emit("pause")},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)&&(r.push(i)||(n=!0,t.pause()))});for(var i in t)"function"==typeof t[i]&&void 0===this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return E(["error","close","destroy","pause","resume"],function(e){t.on(e,function(t){return r.emit.apply(r,e,t)})}),r._read=function(e){n&&(n=!1,t.resume())},r},i._fromList=b}).call(this,t("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./index.js":8,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,buffer:4,events:1,inherits:2,"process/browser.js":9,string_decoder:14}],12:[function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t);this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=(t._readableState,t._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=o;var a=t("./duplex.js");t("inherits")(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./duplex.js":7,inherits:2}],13:[function(t,e,n){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(t,e){var n=(t=t||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=!1===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(e,t)},this.writecb=null,this.writelen=0,this.buffer=[]}function o(t){if(!(this instanceof o||this instanceof T.Duplex))return new o(t);this._writableState=new i(t,this),this.writable=!0,T.call(this)}function s(t,e,n){var r=new Error("write after end");t.emit("error",r),A(function(){n(r)})}function a(t,e,n,r){var i=!0;if(!I.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),A(function(){r(o)}),i=!1}return i}function u(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new I(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i);var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;return e.needDrain=!a,e.writing?e.buffer.push(new r(n,i,o)):l(t,e,s,n,i,o),a}function l(t,e,n,r,i,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1}function f(t,e,n,r,i){n?A(function(){i(r)}):i(r),t.emit("error",r)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(h(n),e)f(t,n,r,e,i);else{var o=y(t,n);o||n.bufferProcessing||!n.buffer.length||m(t,n),r?A(function(){d(t,n,o,i)}):d(t,n,o,i)}}function d(t,e,n,r){n||g(t,e),r(),n&&v(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){e.bufferProcessing=!0;for(var n=0;n<e.buffer.length;n++){var r=e.buffer[n],i=r.chunk,o=r.encoding,s=r.callback;if(l(t,e,e.objectMode?1:i.length,i,o,s),e.writing){n++;break}}e.bufferProcessing=!1,n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}function y(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function v(t,e){var n=y(t,e);return n&&(e.finished=!0,t.emit("finish")),n}function b(t,e,n){e.ending=!0,v(t,e),n&&(e.finished?A(n):t.once("finish",n)),e.ended=!0}e.exports=o,o.WritableState=i;var w="undefined"!=typeof Uint8Array?function(t){return t instanceof Uint8Array}:function(t){return t&&t.constructor&&"Uint8Array"===t.constructor.name},E="undefined"!=typeof ArrayBuffer?function(t){return t instanceof ArrayBuffer}:function(t){return t&&t.constructor&&"ArrayBuffer"===t.constructor.name},_=t("inherits"),T=t("./index.js"),A=t("process/browser.js").nextTick,I=t("buffer").Buffer;_(o,T),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return"function"==typeof e&&(n=e,e=null),!I.isBuffer(t)&&w(t)&&(t=new I(t)),E(t)&&"undefined"!=typeof Uint8Array&&(t=new I(new Uint8Array(t))),I.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):a(this,r,t,n)&&(i=c(this,r,t,e,n)),i},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),void 0!==t&&null!==t&&this.write(t,e),r.ending||r.finished||b(this,r,n)}},{"./index.js":8,buffer:4,inherits:2,"process/browser.js":9}],14:[function(t,e,n){function r(t){if(t&&!a.isEncoding(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){var e=this.charReceived=t.length%2;return this.charLength=e?2:0,e}function s(t){var e=this.charReceived=t.length%3;return this.charLength=e?3:0,e}var a=t("buffer").Buffer,u=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="",n=0;this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,n,r),this.charReceived+=r-n,n=r,this.charReceived<this.charLength)return"";if(!((s=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&s<=56319)){if(this.charReceived=this.charLength=0,r==t.length)return e;t=t.slice(r,t.length);break}this.charLength+=this.surrogateSize,e=""}var i=this.detectIncompleteChar(t),o=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-i,o),this.charReceived=i,o-=i);var o=(e+=t.toString(this.encoding,0,o)).length-1,s=e.charCodeAt(o);if(s>=55296&&s<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(e.charAt(e.length-1),this.encoding),e.substring(0,o)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}return e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:4}],15:[function(t,e,n){(function(){t("../lib/xml2js"),n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{"../lib/xml2js":17}],16:[function(t,e,n){(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(e){return e.replace(t,"")}}).call(this)},{}],17:[function(t,e,n){(function(e){(function(){var r,i,o,s,a,u,c,l={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h=function(t,e){return function(){return t.apply(e,arguments)}};c=t("sax"),o=t("events"),i=t("xmlbuilder"),r=t("./bom"),u=t("./processors"),s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a=function(t,e){var n,r;for(n=0,r=t.length;n<r;n++)e=(0,t[n])(e);return e},n.processors=u,n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,childkey:"$$",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"}}},n.ValidationError=function(t){function e(t){this.message=t}return f(e,t),e}(Error),n.Builder=function(){function t(t){var e,r,i;this.options={},i=n.defaults[.2];for(e in i)l.call(i,e)&&(r=i[e],this.options[e]=r);for(e in t)l.call(t,e)&&(r=t[e],this.options[e]=r)}return t.prototype.buildObject=function(t){var e,r,o,s,a;return e=this.options.attrkey,r=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n.defaults[.2].rootName?t=t[a=Object.keys(t)[0]]:a=this.options.rootName,o=function(t,n){var i,o,s,a,u,c,f,h;if("object"!=typeof n)t.txt(n);else for(u in n)if(l.call(n,u))if(o=n[u],u===e){if("object"==typeof o)for(i in o)c=o[i],t=t.att(i,c)}else if(u===r)t=t.txt(o);else if("object"==typeof o&&null!=(null!=o?o.constructor:void 0)&&null!=(null!=o&&null!=(f=o.constructor)?f.name:void 0)&&"Array"===(null!=o&&null!=(h=o.constructor)?h.name:void 0))for(a in o)l.call(o,a)&&(t="string"==typeof(s=o[a])?t.ele(u,s).up():arguments.callee(t.ele(u),s).up());else t="object"==typeof o?arguments.callee(t.ele(u),o).up():t.ele(u,o.toString()).up();return t},s=i.create(a,this.options.xmldec,this.options.doctype),o(s,t).end(this.options.renderOpts)},t}(),n.Parser=function(t){function i(t){this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this);var e,r,i;if(!(this instanceof n.Parser))return new n.Parser(t);this.options={},i=n.defaults[.2];for(e in i)l.call(i,e)&&(r=i[e],this.options[e]=r);for(e in t)l.call(t,e)&&(r=t[e],this.options[e]=r);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(u.normalize)),this.reset()}return f(i,t),i.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},i.prototype.reset=function(){var t,e,n,r,i,o=this;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),n=!1,this.saxParser.onerror=function(t){if(!n)return n=!0,o.emit("error",t)},this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,i=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){var r,s,u,c,f;if(u={},u[e]="",!o.options.ignoreAttrs){f=n.attributes;for(r in f)l.call(f,r)&&(t in u||o.options.mergeAttrs||(u[t]={}),s=n.attributes[r],c=o.options.attrNameProcessors?a(o.options.attrNameProcessors,r):r,o.options.mergeAttrs?o.assignOrPush(u,c,s):u[t][c]=s)}return u["#name"]=o.options.tagNameProcessors?a(o.options.tagNameProcessors,n.name):n.name,o.options.xmlns&&(u[o.options.xmlnskey]={uri:n.uri,local:n.local}),i.push(u)},this.saxParser.onclosetag=function(){var t,r,a,u,c,l,f,h;if(c=i.pop(),u=c["#name"],delete c["#name"],t=c.cdata,delete c.cdata,f=i[i.length-1],c[e].match(/^\s*$/)&&!t?(r=c[e],delete c[e]):(o.options.trim&&(c[e]=c[e].trim()),o.options.normalize&&(c[e]=c[e].replace(/\s{2,}/g," ").trim()),1===Object.keys(c).length&&e in c&&!o.EXPLICIT_CHARKEY&&(c=c[e])),s(c)&&(c=void 0!==o.options.emptyTag?o.options.emptyTag:r),null!=o.options.validator){h="/"+function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)a=i[t],n.push(a["#name"]);return n}().concat(u).join("/");try{c=o.options.validator(h,f&&f[u],c)}catch(t){n=t,o.emit("error",n)}}return o.options.explicitChildren&&!o.options.mergeAttrs&&"object"==typeof c&&(a={},o.options.attrkey in c&&(a[o.options.attrkey]=c[o.options.attrkey],delete c[o.options.attrkey]),!o.options.charsAsChildren&&o.options.charkey in c&&(a[o.options.charkey]=c[o.options.charkey],delete c[o.options.charkey]),Object.getOwnPropertyNames(c).length>0&&(a[o.options.childkey]=c),c=a),i.length>0?o.assignOrPush(f,u,c):(o.options.explicitRoot&&(l=c,(c={})[u]=l),o.resultObject=c,o.emit("end",o.resultObject))},r=function(t){var n;if(n=i[i.length-1])return n[e]+=t,n},this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},i.prototype.parseString=function(t,n){return null!=n&&"function"==typeof n&&(this.on("end",function(t){return this.reset(),this.options.async?e.nextTick(function(){return n(null,t)}):n(null,t)}),this.on("error",function(t){return this.reset(),this.options.async?e.nextTick(function(){return n(t)}):n(t)})),""===t.toString().trim()?(this.emit("end",null),!0):this.saxParser.write(r.stripBOM(t.toString())).close()},i}(o.EventEmitter),n.parseString=function(t,e,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof e&&(o=e)):("function"==typeof e&&(i=e),o={}),new n.Parser(o).parseString(t,i)}}).call(this)}).call(this,t("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./bom":15,"./processors":16,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,events:1,sax:18,xmlbuilder:35}],18:[function(t,e,n){(function(e){!function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=n.MAX_BUFFER_LENGTH,i.opt=e||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=X.BEGIN,i.ENTITIES=Object.create(n.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(k)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),h(i,"onready")}function i(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=I.length;i<o;i++){var s=t[I[i]].length;if(s>e)switch(I[i]){case"textNode":d(t);break;case"cdata":p(t,"oncdata",t.cdata),t.cdata="";break;case"script":p(t,"onscript",t.script),t.script="";break;default:m(t,"Max buffer length exceeded: "+I[i])}r=Math.max(r,s)}t.bufferCheckPosition=n.MAX_BUFFER_LENGTH-r+t.position}function o(t){for(var e=0,n=I.length;e<n;e++)t[I[e]]=""}function s(t){d(t),""!==t.cdata&&(p(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(p(t,"onscript",t.script),t.script="")}function a(t,e){if(!(this instanceof a))return new a(t,e);x.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,N.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})})}function u(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function c(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function l(t,e){return c(t)?!!e.match(t):t[e]}function f(t,e){return!l(t,e)}function h(t,e,n){t[e]&&t[e](n)}function p(t,e,n){t.textNode&&d(t),h(t,e,n)}function d(t){t.textNode=g(t.opt,t.textNode),t.textNode&&h(t,"ontext",t.textNode),t.textNode=""}function g(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function m(t,e){return d(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,h(t,"onerror",e),t}function y(t){return t.closedRoot||v(t,"Unclosed root tag"),t.state!==X.BEGIN&&t.state!==X.TEXT&&m(t,"Unexpected end"),d(t),t.c="",t.closed=!0,h(t,"onend"),r.call(t,t.strict,t.opt),t}function v(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&m(t,e)}function b(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0}function w(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function E(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=w(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==P)v(t,"xml: prefix must be bound to "+P+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==j)v(t,"xmlns: prefix must be bound to "+j+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,p(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function _(t,e){if(t.opt.xmlns){var n=t.tag,r=w(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(v(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){p(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],u=a[0],c=a[1],l=w(u,!0),f=l.prefix,h=l.local,d=""==f?"":n.ns[f]||"",g={name:u,value:c,prefix:f,local:h,uri:d};f&&"xmlns"!=f&&!d&&(v(t,"Unbound namespace prefix: "+JSON.stringify(f)),g.uri=f),t.tag.attributes[u]=g,p(t,"onattribute",g)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),p(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=X.TEXT:t.state=X.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function T(t){if(!t.tagName)return v(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=X.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=X.SCRIPT);p(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)v(t,"Unexpected close tag");if(e<0)return v(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=X.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,p(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(e){var n=o.ns[e];p(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=X.TEXT}function A(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(v(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCharCode(e))}n.parser=function(t,e){return new r(t,e)},n.SAXParser=r,n.SAXStream=a,n.createStream=function(t,e){return new a(t,e)},n.MAX_BUFFER_LENGTH=65536;var I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){y(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return m(e,"Cannot write after close. Assign an onready handler.");if(null===t)return y(e);for(var n=0,r="";e.c=r=t.charAt(n++);)switch(e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++),e.state){case X.BEGIN:"<"===r?(e.state=X.OPEN_WAKA,e.startTagPosition=e.position):f(D,r)&&(v(e,"Non-whitespace before first tag."),e.textNode=r,e.state=X.TEXT);continue;case X.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=t.charAt(n++))&&e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(o,n-1)}"<"===r?(e.state=X.OPEN_WAKA,e.startTagPosition=e.position):(!f(D,r)||e.sawRoot&&!e.closedRoot||v(e,"Text data outside of root node."),"&"===r?e.state=X.TEXT_ENTITY:e.textNode+=r);continue;case X.SCRIPT:"<"===r?e.state=X.SCRIPT_ENDING:e.script+=r;continue;case X.SCRIPT_ENDING:"/"===r?e.state=X.CLOSE_TAG:(e.script+="<"+r,e.state=X.SCRIPT);continue;case X.OPEN_WAKA:if("!"===r)e.state=X.SGML_DECL,e.sgmlDecl="";else if(l(D,r));else if(l(U,r))e.state=X.OPEN_TAG,e.tagName=r;else if("/"===r)e.state=X.CLOSE_TAG,e.tagName="";else if("?"===r)e.state=X.PROC_INST,e.procInstName=e.procInstBody="";else{if(v(e,"Unencoded <"),e.startTagPosition+1<e.position){var s=e.position-e.startTagPosition;r=new Array(s).join(" ")+r}e.textNode+="<"+r,e.state=X.TEXT}continue;case X.SGML_DECL:(e.sgmlDecl+r).toUpperCase()===R?(p(e,"onopencdata"),e.state=X.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+r==="--"?(e.state=X.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+r).toUpperCase()===B?(e.state=X.DOCTYPE,(e.doctype||e.sawRoot)&&v(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===r?(p(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=X.TEXT):l(C,r)?(e.state=X.SGML_DECL_QUOTED,e.sgmlDecl+=r):e.sgmlDecl+=r;continue;case X.SGML_DECL_QUOTED:r===e.q&&(e.state=X.SGML_DECL,e.q=""),e.sgmlDecl+=r;continue;case X.DOCTYPE:">"===r?(e.state=X.TEXT,p(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=r,"["===r?e.state=X.DOCTYPE_DTD:l(C,r)&&(e.state=X.DOCTYPE_QUOTED,e.q=r));continue;case X.DOCTYPE_QUOTED:e.doctype+=r,r===e.q&&(e.q="",e.state=X.DOCTYPE);continue;case X.DOCTYPE_DTD:e.doctype+=r,"]"===r?e.state=X.DOCTYPE:l(C,r)&&(e.state=X.DOCTYPE_DTD_QUOTED,e.q=r);continue;case X.DOCTYPE_DTD_QUOTED:e.doctype+=r,r===e.q&&(e.state=X.DOCTYPE_DTD,e.q="");continue;case X.COMMENT:"-"===r?e.state=X.COMMENT_ENDING:e.comment+=r;continue;case X.COMMENT_ENDING:"-"===r?(e.state=X.COMMENT_ENDED,e.comment=g(e.opt,e.comment),e.comment&&p(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+r,e.state=X.COMMENT);continue;case X.COMMENT_ENDED:">"!==r?(v(e,"Malformed comment"),e.comment+="--"+r,e.state=X.COMMENT):e.state=X.TEXT;continue;case X.CDATA:"]"===r?e.state=X.CDATA_ENDING:e.cdata+=r;continue;case X.CDATA_ENDING:"]"===r?e.state=X.CDATA_ENDING_2:(e.cdata+="]"+r,e.state=X.CDATA);continue;case X.CDATA_ENDING_2:">"===r?(e.cdata&&p(e,"oncdata",e.cdata),p(e,"onclosecdata"),e.cdata="",e.state=X.TEXT):"]"===r?e.cdata+="]":(e.cdata+="]]"+r,e.state=X.CDATA);continue;case X.PROC_INST:"?"===r?e.state=X.PROC_INST_ENDING:l(D,r)?e.state=X.PROC_INST_BODY:e.procInstName+=r;continue;case X.PROC_INST_BODY:if(!e.procInstBody&&l(D,r))continue;"?"===r?e.state=X.PROC_INST_ENDING:e.procInstBody+=r;continue;case X.PROC_INST_ENDING:">"===r?(p(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=X.TEXT):(e.procInstBody+="?"+r,e.state=X.PROC_INST_BODY);continue;case X.OPEN_TAG:l(F,r)?e.tagName+=r:(b(e),">"===r?_(e):"/"===r?e.state=X.OPEN_TAG_SLASH:(f(D,r)&&v(e,"Invalid character in tag name"),e.state=X.ATTRIB));continue;case X.OPEN_TAG_SLASH:">"===r?(_(e,!0),T(e)):(v(e,"Forward-slash in opening tag not followed by >"),e.state=X.ATTRIB);continue;case X.ATTRIB:if(l(D,r))continue;">"===r?_(e):"/"===r?e.state=X.OPEN_TAG_SLASH:l(U,r)?(e.attribName=r,e.attribValue="",e.state=X.ATTRIB_NAME):v(e,"Invalid attribute name");continue;case X.ATTRIB_NAME:"="===r?e.state=X.ATTRIB_VALUE:">"===r?(v(e,"Attribute without value"),e.attribValue=e.attribName,E(e),_(e)):l(D,r)?e.state=X.ATTRIB_NAME_SAW_WHITE:l(F,r)?e.attribName+=r:v(e,"Invalid attribute name");continue;case X.ATTRIB_NAME_SAW_WHITE:if("="===r)e.state=X.ATTRIB_VALUE;else{if(l(D,r))continue;v(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",p(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===r?_(e):l(U,r)?(e.attribName=r,e.state=X.ATTRIB_NAME):(v(e,"Invalid attribute name"),e.state=X.ATTRIB)}continue;case X.ATTRIB_VALUE:if(l(D,r))continue;l(C,r)?(e.q=r,e.state=X.ATTRIB_VALUE_QUOTED):(v(e,"Unquoted attribute value"),e.state=X.ATTRIB_VALUE_UNQUOTED,e.attribValue=r);continue;case X.ATTRIB_VALUE_QUOTED:if(r!==e.q){"&"===r?e.state=X.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=r;continue}E(e),e.q="",e.state=X.ATTRIB_VALUE_CLOSED;continue;case X.ATTRIB_VALUE_CLOSED:l(D,r)?e.state=X.ATTRIB:">"===r?_(e):"/"===r?e.state=X.OPEN_TAG_SLASH:l(U,r)?(v(e,"No whitespace between attributes"),e.attribName=r,e.attribValue="",e.state=X.ATTRIB_NAME):v(e,"Invalid attribute name");continue;case X.ATTRIB_VALUE_UNQUOTED:if(f(O,r)){"&"===r?e.state=X.ATTRIB_VALUE_ENTITY_U:e.attribValue+=r;continue}E(e),">"===r?_(e):e.state=X.ATTRIB;continue;case X.CLOSE_TAG:if(e.tagName)">"===r?T(e):l(F,r)?e.tagName+=r:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=X.SCRIPT):(f(D,r)&&v(e,"Invalid tagname in closing tag"),e.state=X.CLOSE_TAG_SAW_WHITE);else{if(l(D,r))continue;f(U,r)?e.script?(e.script+="</"+r,e.state=X.SCRIPT):v(e,"Invalid tagname in closing tag."):e.tagName=r}continue;case X.CLOSE_TAG_SAW_WHITE:if(l(D,r))continue;">"===r?T(e):v(e,"Invalid characters in closing tag");continue;case X.TEXT_ENTITY:case X.ATTRIB_VALUE_ENTITY_Q:case X.ATTRIB_VALUE_ENTITY_U:switch(e.state){case X.TEXT_ENTITY:var a=X.TEXT,u="textNode";break;case X.ATTRIB_VALUE_ENTITY_Q:var a=X.ATTRIB_VALUE_QUOTED,u="attribValue";break;case X.ATTRIB_VALUE_ENTITY_U:var a=X.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(e[u]+=A(e),e.entity="",e.state=a):l(M,r)?e.entity+=r:(v(e,"Invalid character entity"),e[u]+="&"+e.entity+r,e.entity="",e.state=a);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&i(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};try{x=t("stream").Stream}catch(t){var x=function(){}}var N=n.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});a.prototype=Object.create(x.prototype,{constructor:{value:a}}),a.prototype.write=function(n){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)){if(!this._decoder){var r=t("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===N.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),x.prototype.on.call(n,t,e)};var D="\r\n\t ",L="0124356789",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",C="'\"",M=L+S+"#",O=D+">",R="[CDATA[",B="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:P,xmlns:j};D=u(D),L=u(L),S=u(S);var U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;C=u(C),M=u(M),O=u(O);X=0;n.STATE={BEGIN:X++,TEXT:X++,TEXT_ENTITY:X++,OPEN_WAKA:X++,SGML_DECL:X++,SGML_DECL_QUOTED:X++,DOCTYPE:X++,DOCTYPE_QUOTED:X++,DOCTYPE_DTD:X++,DOCTYPE_DTD_QUOTED:X++,COMMENT_STARTING:X++,COMMENT:X++,COMMENT_ENDING:X++,COMMENT_ENDED:X++,CDATA:X++,CDATA_ENDING:X++,CDATA_ENDING_2:X++,PROC_INST:X++,PROC_INST_BODY:X++,PROC_INST_ENDING:X++,OPEN_TAG:X++,OPEN_TAG_SLASH:X++,ATTRIB:X++,ATTRIB_NAME:X++,ATTRIB_NAME_SAW_WHITE:X++,ATTRIB_VALUE:X++,ATTRIB_VALUE_QUOTED:X++,ATTRIB_VALUE_CLOSED:X++,ATTRIB_VALUE_UNQUOTED:X++,ATTRIB_VALUE_ENTITY_Q:X++,ATTRIB_VALUE_ENTITY_U:X++,CLOSE_TAG:X++,CLOSE_TAG_SAW_WHITE:X++,SCRIPT:X++,SCRIPT_ENDING:X++},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(t){var e=n.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;n.ENTITIES[t]=r});for(var X in n.STATE)n.STATE[n.STATE[X]]=X;X=n.STATE}(void 0===n?sax={}:n)}).call(this,t("buffer").Buffer)},{buffer:4,stream:8,string_decoder:14}],19:[function(t,e,n){(function(){t("underscore"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing attribute name");if(null==n)throw new Error("Missing attribute value");this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return t.prototype.toString=function(t,e){return" "+this.name+'="'+this.value+'"'},t}()}).call(this)},{underscore:36}],20:[function(t,e,n){(function(){var n,r;t("underscore"),r=t("./XMLStringifier"),t("./XMLDeclaration"),t("./XMLDocType"),n=t("./XMLElement"),e.exports=function(){function t(t,e){var i;if(null==t)throw new Error("Root element needs a name");null==e&&(e={}),this.options=e,this.stringify=new r(e),(i=new n(this,"doc").element(t)).isRoot=!0,i.documentObject=this,this.rootObject=i,e.headless||(i.declaration(e),null==e.pubID&&null==e.sysID||i.doctype(e))}return t.prototype.root=function(){return this.rootObject},t.prototype.end=function(t){return toString(t)},t.prototype.toString=function(t){var e,n,r;return n=(null!=t?t.pretty:void 0)||!1,(null!=t?t.indent:void 0)||"  ",e=(null!=t?t.newline:void 0)||"\n",r="",null!=this.xmldec&&(r+=this.xmldec.toString(t)),null!=this.doctype&&(r+=this.doctype.toString(t)),r+=this.rootObject.toString(t),n&&r.slice(-e.length)===e&&(r=r.slice(0,-e.length)),r},t}()}).call(this)},{"./XMLDeclaration":27,"./XMLDocType":28,"./XMLElement":29,"./XMLStringifier":33,underscore:36}],21:[function(t,e,n){(function(){var n,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t("underscore"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return i(e,t),e.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<![CDATA["+this.text+"]]>",i&&(o+=r),o},e}(n)}).call(this)},{"./XMLNode":30,underscore:36}],22:[function(t,e,n){(function(){var n,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t("underscore"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return i(e,t),e.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="\x3c!-- "+this.text+" --\x3e",i&&(o+=r),o},e}(n)}).call(this)},{"./XMLNode":30,underscore:36}],23:[function(t,e,n){(function(){t("underscore"),e.exports=function(){function t(t,e,n,r,i,o){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return t.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(o+=" "+this.defaultValueType),this.defaultValue&&(o+=' "'+this.defaultValue+'"'),o+=">",i&&(o+=r),o},t}()}).call(this)},{underscore:36}],24:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports=function(){function t(t,e,r){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),n.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(r)}return t.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<!ELEMENT "+this.name+" "+this.value+">",i&&(o+=r),o},t}()}).call(this)},{underscore:36}],25:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports=function(){function t(t,e,r,i){if(this.stringify=t.stringify,null==r)throw new Error("Missing entity name");if(null==i)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(r),n.isObject(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity");if(null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(i)}return t.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<!ENTITY",this.pe&&(o+=" %"),o+=" "+this.name,this.value?o+=' "'+this.value+'"':(this.pubID&&this.sysID?o+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(o+=' SYSTEM "'+this.sysID+'"'),this.nData&&(o+=" NDATA "+this.nData)),o+=">",i&&(o+=r),o},t}()}).call(this)},{underscore:36}],26:[function(t,e,n){(function(){t("underscore"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return t.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<!NOTATION "+this.name,this.pubID&&this.sysID?o+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?o+=' PUBLIC "'+this.pubID+'"':this.sysID&&(o+=' SYSTEM "'+this.sysID+'"'),o+=">",i&&(o+=r),o},t}()}).call(this)},{underscore:36}],27:[function(t,e,n){(function(){var n,r,i={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("underscore"),n=t("./XMLNode"),e.exports=function(t){function e(t,n,i,o){var s;e.__super__.constructor.call(this,t),r.isObject(n)&&(n=(s=n).version,i=s.encoding,o=s.standalone),n||(n="1.0"),null!=n&&(this.version=this.stringify.xmlVersion(n)),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return o(e,t),e.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<?xml",null!=this.version&&(o+=' version="'+this.version+'"'),null!=this.encoding&&(o+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(o+=' standalone="'+this.standalone+'"'),o+="?>",i&&(o+=r),o},e}(n)}).call(this)},{"./XMLNode":30,underscore:36}],28:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports=function(){function e(t,e,r){var i,o;this.documentObject=t,this.stringify=this.documentObject.stringify,this.children=[],n.isObject(e)&&(e=(i=e).pubID,r=i.sysID),null==r&&(r=(o=[e,r])[0],e=o[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return e.prototype.element=function(e,n){var r,i;return r=t("./XMLDTDElement"),i=new r(this,e,n),this.children.push(i),this},e.prototype.attList=function(e,n,r,i,o){var s,a;return s=t("./XMLDTDAttList"),a=new s(this,e,n,r,i,o),this.children.push(a),this},e.prototype.entity=function(e,n){var r,i;return r=t("./XMLDTDEntity"),i=new r(this,!1,e,n),this.children.push(i),this},e.prototype.pEntity=function(e,n){var r,i;return r=t("./XMLDTDEntity"),i=new r(this,!0,e,n),this.children.push(i),this},e.prototype.notation=function(e,n){var r,i;return r=t("./XMLDTDNotation"),i=new r(this,e,n),this.children.push(i),this},e.prototype.cdata=function(e){var n,r;return n=t("./XMLCData"),r=new n(this,e),this.children.push(r),this},e.prototype.comment=function(e){var n,r;return n=t("./XMLComment"),r=new n(this,e),this.children.push(r),this},e.prototype.instruction=function(e,n){var r,i;return r=t("./XMLProcessingInstruction"),i=new r(this,e,n),this.children.push(i),this},e.prototype.root=function(){return this.documentObject.root()},e.prototype.document=function(){return this.documentObject},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c;if(i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?o+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(o+=' SYSTEM "'+this.sysID+'"'),this.children.length>0){for(o+=" [",i&&(o+=r),a=0,u=(c=this.children).length;a<u;a++)o+=c[a].toString(t,e+1);o+="]"}return o+=">",i&&(o+=r),o},e.prototype.ele=function(t,e){return this.element(t,e)},e.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},e.prototype.ent=function(t,e){return this.entity(t,e)},e.prototype.pent=function(t,e){return this.pEntity(t,e)},e.prototype.not=function(t,e){return this.notation(t,e)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.up=function(){return this.root()},e.prototype.doc=function(){return this.document()},e}()}).call(this)},{"./XMLCData":21,"./XMLComment":22,"./XMLDTDAttList":23,"./XMLDTDElement":24,"./XMLDTDEntity":25,"./XMLDTDNotation":26,"./XMLProcessingInstruction":31,underscore:36}],29:[function(t,e,n){(function(){var n,r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("underscore"),r=t("./XMLNode"),n=t("./XMLAttribute"),i=t("./XMLProcessingInstruction"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element name");this.name=this.stringify.eleName(n),this.children=[],this.instructions=[],this.attributes={},null!=r&&this.attribute(r)}return a(e,t),e.prototype.clone=function(t){var e,n,r,i,a,u,c,l;(r=o.clone(this)).attributes={},c=this.attributes;for(n in c)s.call(c,n)&&(e=c[n],r.attributes[n]=o.clone(e));for(r.instructions=[],a=0,u=(l=this.instructions).length;a<u;a++)i=l[a],r.instructions.push(o.clone(i));return r.children=[],t&&this.children.forEach(function(e){var n;return n=e.clone(t),n.parent=r,r.children.push(n)}),r},e.prototype.attribute=function(t,e){var r,i;if(o.isObject(t))for(r in t)s.call(t,r)&&(i=t[r],this.attribute(r,i));else o.isFunction(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new n(this,t,e));return this},e.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name");if(o.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},e.prototype.instruction=function(t,e){var n,r,a,u,c;if(o.isArray(t))for(u=0,c=t.length;u<c;u++)n=t[u],this.instruction(n);else if(o.isObject(t))for(n in t)s.call(t,n)&&(r=t[n],this.instruction(n,r));else o.isFunction(e)&&(e=e.apply()),a=new i(this,t,e),this.instructions.push(a);return this},e.prototype.toString=function(t,e){var n,r,i,o,a,u,c,l,f,h,p,d,g;for(o=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",i=(null!=t?t.newline:void 0)||"\n",e||(e=0),u=new Array(e+1).join(n),a="",c=0,f=(p=this.instructions).length;c<f;c++)a+=p[c].toString(t,e+1);o&&(a+=u),a+="<"+this.name,d=this.attributes;for(r in d)s.call(d,r)&&(a+=d[r].toString(t));if(0===this.children.length)a+="/>",o&&(a+=i);else if(o&&1===this.children.length&&null!=this.children[0].value)a+=">",a+=this.children[0].value,a+="</"+this.name+">",a+=i;else{for(a+=">",o&&(a+=i),l=0,h=(g=this.children).length;l<h;l++)a+=g[l].toString(t,e+1);o&&(a+=u),a+="</"+this.name+">",o&&(a+=i)}return a},e.prototype.att=function(t,e){return this.attribute(t,e)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.a=function(t,e){return this.attribute(t,e)},e.prototype.i=function(t,e){return this.instruction(t,e)},e}(r)}).call(this)},{"./XMLAttribute":19,"./XMLNode":30,"./XMLProcessingInstruction":31,underscore:36}],30:[function(t,e,n){(function(){var n,r={}.hasOwnProperty;n=t("underscore"),e.exports=function(){function e(t){this.parent=t,this.options=this.parent.options,this.stringify=this.parent.stringify}return e.prototype.element=function(t,e,i){var o,s,a,u,c,l,f;if(a=null,null==e&&(e={}),n.isObject(e)||(i=(f=[e,i])[0],e=f[1]),n.isArray(t))for(c=0,l=t.length;c<l;c++)o=t[c],a=this.element(o);else if(n.isFunction(t))a=this.element(t.apply());else if(n.isObject(t))for(s in t)r.call(t,s)&&null!=(u=t[s])&&(n.isFunction(u)&&(u=u.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey)?a=this.attribute(s.substr(this.stringify.convertAttKey.length),u):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===s.indexOf(this.stringify.convertPIKey)?a=this.instruction(s.substr(this.stringify.convertPIKey.length),u):n.isObject(u)?!this.options.ignoreDecorators&&this.stringify.convertListKey&&0===s.indexOf(this.stringify.convertListKey)&&n.isArray(u)?a=this.element(u):(a=this.element(s)).element(u):a=this.element(s,u));else a=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(i):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(i):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(i):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(i):this.node(t,e,i);if(null==a)throw new Error("Could not create any elements with: "+t);return a},e.prototype.insertBefore=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},e.prototype.node=function(e,r,i){var o,s,a;return null==r&&(r={}),n.isObject(r)||(i=(a=[r,i])[0],r=a[1]),o=t("./XMLElement"),s=new o(this,e,r),null!=i&&s.text(i),this.children.push(s),s},e.prototype.text=function(e){var n,r;return n=t("./XMLText"),r=new n(this,e),this.children.push(r),this},e.prototype.cdata=function(e){var n,r;return n=t("./XMLCData"),r=new n(this,e),this.children.push(r),this},e.prototype.comment=function(e){var n,r;return n=t("./XMLComment"),r=new n(this,e),this.children.push(r),this},e.prototype.raw=function(e){var n,r;return n=t("./XMLRaw"),r=new n(this,e),this.children.push(r),this},e.prototype.declaration=function(e,n,r){var i,o,s;return o=this.document(),i=t("./XMLDeclaration"),s=new i(o,e,n,r),o.xmldec=s,o.root()},e.prototype.doctype=function(e,n){var r,i,o;return i=this.document(),r=t("./XMLDocType"),o=new r(i,e,n),i.doctype=o,o},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var t;if(this.isRoot)return this;for(t=this.parent;!t.isRoot;)t=t.parent;return t},e.prototype.document=function(){return this.root().documentObject},e.prototype.end=function(t){return this.document().toString(t)},e.prototype.prev=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},e.prototype.next=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},e.prototype.importXMLBuilder=function(t){var e;return e=t.root().clone(!0),e.parent=this,this.children.push(e),e.isRoot=!1,this},e.prototype.clone=function(t){return n.clone(this)},e.prototype.ele=function(t,e,n){return this.element(t,e,n)},e.prototype.nod=function(t,e,n){return this.node(t,e,n)},e.prototype.txt=function(t){return this.text(t)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},e.prototype.dtd=function(t,e){return this.doctype(t,e)},e.prototype.e=function(t,e,n){return this.element(t,e,n)},e.prototype.n=function(t,e,n){return this.node(t,e,n)},e.prototype.t=function(t){return this.text(t)},e.prototype.d=function(t){return this.cdata(t)},e.prototype.c=function(t){return this.comment(t)},e.prototype.r=function(t){return this.raw(t)},e.prototype.u=function(){return this.up()},e}()}).call(this)},{"./XMLCData":21,"./XMLComment":22,"./XMLDeclaration":27,"./XMLDocType":28,"./XMLElement":29,"./XMLRaw":32,"./XMLText":34,underscore:36}],31:[function(t,e,n){(function(){t("underscore"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),n&&(this.value=this.stringify.insValue(n))}return t.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+="<?",o+=this.target,this.value&&(o+=" "+this.value),o+="?>",i&&(o+=r),o},t}()}).call(this)},{underscore:36}],32:[function(t,e,n){(function(){var n,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t("underscore"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return i(e,t),e.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+=this.value,i&&(o+=r),o},e}(n)}).call(this)},{"./XMLNode":30,underscore:36}],33:[function(t,e,n){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(n){var r,i,o,s=this;this.assertLegalChar=function(t){return e.prototype.assertLegalChar.apply(s,arguments)},this.allowSurrogateChars=null!=n?n.allowSurrogateChars:void 0,o=(null!=n?n.stringify:void 0)||{};for(r in o)t.call(o,r)&&(i=o[r],this[r]=i)}return e.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},e.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.escape(t))},e.prototype.cdata=function(t){if((t=""+t||"").match(/]]>/))throw new Error("Invalid CDATA text: "+t);return this.assertLegalChar(t)},e.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(this.escape(t))},e.prototype.raw=function(t){return""+t||""},e.prototype.attName=function(t){return""+t||""},e.prototype.attValue=function(t){return t=""+t||"",this.escape(t)},e.prototype.insTarget=function(t){return""+t||""},e.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},e.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},e.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/))throw new Error("Invalid encoding: "+options.val);return t},e.prototype.xmlStandalone=function(t){return t?"yes":"no"},e.prototype.dtdPubID=function(t){return""+t||""},e.prototype.dtdSysID=function(t){return""+t||""},e.prototype.dtdElementValue=function(t){return""+t||""},e.prototype.dtdAttType=function(t){return""+t||""},e.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},e.prototype.dtdEntityValue=function(t){return""+t||""},e.prototype.dtdNData=function(t){return""+t||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.convertListKey="#list",e.prototype.assertLegalChar=function(t){var e,n;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t+" at index "+n.index);return t},e.prototype.escape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},e}()}).call(this)},{}],34:[function(t,e,n){(function(){var n,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t("underscore"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(this.parent=t,e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return i(e,t),e.prototype.toString=function(t,e){var n,r,i,o,s;return i=(null!=t?t.pretty:void 0)||!1,n=(null!=t?t.indent:void 0)||"  ",r=(null!=t?t.newline:void 0)||"\n",e||(e=0),s=new Array(e+1).join(n),o="",i&&(o+=s),o+=this.value,i&&(o+=r),o},e}(n)}).call(this)},{"./XMLNode":30,underscore:36}],35:[function(t,e,n){(function(){var n,r;r=t("underscore"),n=t("./XMLBuilder"),e.exports.create=function(t,e,i,o){return o=r.extend({},e,i,o),new n(t,o).root()}}).call(this)},{"./XMLBuilder":20,underscore:36}],36:[function(t,e,n){(function(){var t=this,r=t._,i={},o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=s.toString,h=s.hasOwnProperty,p=o.forEach,d=o.map,g=o.reduce,m=o.reduceRight,y=o.filter,v=o.every,b=o.some,w=o.indexOf,E=o.lastIndexOf,_=Array.isArray,T=Object.keys,A=a.bind,I=function(t){return t instanceof I?t:this instanceof I?void(this._wrapped=t):new I(t)};void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=I),n._=I):t._=I,I.VERSION="1.5.2";var x=I.each=I.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t)===i)return}else for(var s=I.keys(t),r=0,o=s.length;r<o;r++)if(e.call(n,t[s[r]],s[r],t)===i)return};I.map=I.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(x(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var N="Reduce of empty array with no initial value";I.reduce=I.foldl=I.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=I.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(x(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(N);return n},I.reduceRight=I.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return r&&(e=I.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=I.keys(t);o=s.length}if(x(t,function(a,u,c){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(N);return n},I.find=I.detect=function(t,e,n){var r;return D(t,function(t,i,o){if(e.call(n,t,i,o))return r=t,!0}),r},I.filter=I.select=function(t,e,n){var r=[];return null==t?r:y&&t.filter===y?t.filter(e,n):(x(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},I.reject=function(t,e,n){return I.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},I.every=I.all=function(t,e,n){e||(e=I.identity);var r=!0;return null==t?r:v&&t.every===v?t.every(e,n):(x(t,function(t,o,s){if(!(r=r&&e.call(n,t,o,s)))return i}),!!r)};var D=I.some=I.any=function(t,e,n){e||(e=I.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(x(t,function(t,o,s){if(r||(r=e.call(n,t,o,s)))return i}),!!r)};I.contains=I.include=function(t,e){return null!=t&&(w&&t.indexOf===w?-1!=t.indexOf(e):D(t,function(t){return t===e}))},I.invoke=function(t,e){var n=c.call(arguments,2),r=I.isFunction(e);return I.map(t,function(t){return(r?e:t[e]).apply(t,n)})},I.pluck=function(t,e){return I.map(t,function(t){return t[e]})},I.where=function(t,e,n){return I.isEmpty(e)?n?void 0:[]:I[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},I.findWhere=function(t,e){return I.where(t,e,!0)},I.max=function(t,e,n){if(!e&&I.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&I.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return x(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>r.computed&&(r={value:t,computed:s})}),r.value},I.min=function(t,e,n){if(!e&&I.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&I.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return x(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},I.shuffle=function(t){var e,n=0,r=[];return x(t,function(t){e=I.random(n++),r[n-1]=r[e],r[e]=t}),r},I.sample=function(t,e,n){return arguments.length<2||n?t[I.random(t.length-1)]:I.shuffle(t).slice(0,Math.max(0,e))};var L=function(t){return I.isFunction(t)?t:function(e){return e[t]}};I.sortBy=function(t,e,n){var r=L(e);return I.pluck(I.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,n,r){var i={},o=null==n?I.identity:L(n);return x(e,function(n,s){var a=o.call(r,n,s,e);t(i,a,n)}),i}};I.groupBy=S(function(t,e,n){(I.has(t,e)?t[e]:t[e]=[]).push(n)}),I.indexBy=S(function(t,e,n){t[e]=n}),I.countBy=S(function(t,e){I.has(t,e)?t[e]++:t[e]=1}),I.sortedIndex=function(t,e,n,r){for(var i=(n=null==n?I.identity:L(n)).call(r,e),o=0,s=t.length;o<s;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},I.toArray=function(t){return t?I.isArray(t)?c.call(t):t.length===+t.length?I.map(t,I.identity):I.values(t):[]},I.size=function(t){return null==t?0:t.length===+t.length?t.length:I.keys(t).length},I.first=I.head=I.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:c.call(t,0,e)},I.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},I.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},I.rest=I.tail=I.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},I.compact=function(t){return I.filter(t,I.identity)};var C=function(t,e,n){return e&&I.every(t,I.isArray)?l.apply(n,t):(x(t,function(t){I.isArray(t)||I.isArguments(t)?e?u.apply(n,t):C(t,e,n):n.push(t)}),n)};I.flatten=function(t,e){return C(t,e,[])},I.without=function(t){return I.difference(t,c.call(arguments,1))},I.uniq=I.unique=function(t,e,n,r){I.isFunction(e)&&(r=n,n=e,e=!1);var i=n?I.map(t,n,r):t,o=[],s=[];return x(i,function(n,r){(e?r&&s[s.length-1]===n:I.contains(s,n))||(s.push(n),o.push(t[r]))}),o},I.union=function(){return I.uniq(I.flatten(arguments,!0))},I.intersection=function(t){var e=c.call(arguments,1);return I.filter(I.uniq(t),function(t){return I.every(e,function(e){return I.indexOf(e,t)>=0})})},I.difference=function(t){var e=l.apply(o,c.call(arguments,1));return I.filter(t,function(t){return!I.contains(e,t)})},I.zip=function(){for(var t=I.max(I.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=I.pluck(arguments,""+n);return e},I.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},I.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=I.sortedIndex(t,e),t[r]===e?r:-1;r=n<0?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;r<i;r++)if(t[r]===e)return r;return-1},I.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(E&&t.lastIndexOf===E)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},I.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);i<r;)o[i++]=t,t+=n;return o};var M=function(){};I.bind=function(t,e){var n,r;if(A&&t.bind===A)return A.apply(t,c.call(arguments,1));if(!I.isFunction(t))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(c.call(arguments)));M.prototype=t.prototype;var i=new M;M.prototype=null;var o=t.apply(i,n.concat(c.call(arguments)));return Object(o)===o?o:i}},I.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},I.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return x(e,function(e){t[e]=I.bind(t[e],t)}),t},I.memoize=function(t,e){var n={};return e||(e=I.identity),function(){var r=e.apply(this,arguments);return I.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},I.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},I.defer=function(t){return I.delay.apply(I,[t,1].concat(c.call(arguments,1)))},I.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:new Date,s=null,o=t.apply(r,i)};return function(){var c=new Date;a||!1!==n.leading||(a=c);var l=e-(c-a);return r=this,i=arguments,l<=0?(clearTimeout(s),s=null,a=c,o=t.apply(r,i)):s||!1===n.trailing||(s=setTimeout(u,l)),o}},I.debounce=function(t,e,n){var r,i,o,s,a;return function(){o=this,i=arguments,s=new Date;var u=function(){var c=new Date-s;c<e?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i)))},c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i)),a}},I.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},I.wrap=function(t,e){return function(){var n=[t];return u.apply(n,arguments),e.apply(this,n)}},I.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},I.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},I.keys=T||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)I.has(t,n)&&e.push(n);return e},I.values=function(t){for(var e=I.keys(t),n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},I.pairs=function(t){for(var e=I.keys(t),n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},I.invert=function(t){for(var e={},n=I.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},I.functions=I.methods=function(t){var e=[];for(var n in t)I.isFunction(t[n])&&e.push(n);return e.sort()},I.extend=function(t){return x(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},I.pick=function(t){var e={},n=l.apply(o,c.call(arguments,1));return x(n,function(n){n in t&&(e[n]=t[n])}),e},I.omit=function(t){var e={},n=l.apply(o,c.call(arguments,1));for(var r in t)I.contains(n,r)||(e[r]=t[r]);return e},I.defaults=function(t){return x(c.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},I.clone=function(t){return I.isObject(t)?I.isArray(t)?t.slice():I.extend({},t):t},I.tap=function(t,e){return e(t),t};var O=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof I&&(t=t._wrapped),e instanceof I&&(e=e._wrapped);var i=f.call(t);if(i!=f.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(I.isFunction(s)&&s instanceof s&&I.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=O(t[u],e[u],n,r)););}else{for(var l in t)if(I.has(t,l)&&(u++,!(c=I.has(e,l)&&O(t[l],e[l],n,r))))break;if(c){for(l in e)if(I.has(e,l)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};I.isEqual=function(t,e){return O(t,e,[],[])},I.isEmpty=function(t){if(null==t)return!0;if(I.isArray(t)||I.isString(t))return 0===t.length;for(var e in t)if(I.has(t,e))return!1;return!0},I.isElement=function(t){return!(!t||1!==t.nodeType)},I.isArray=_||function(t){return"[object Array]"==f.call(t)},I.isObject=function(t){return t===Object(t)},x(["Arguments","Function","String","Number","Date","RegExp"],function(t){I["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),I.isArguments(arguments)||(I.isArguments=function(t){return!(!t||!I.has(t,"callee"))}),"function"!=typeof/./&&(I.isFunction=function(t){return"function"==typeof t}),I.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},I.isNaN=function(t){return I.isNumber(t)&&t!=+t},I.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==f.call(t)},I.isNull=function(t){return null===t},I.isUndefined=function(t){return void 0===t},I.has=function(t,e){return h.call(t,e)},I.noConflict=function(){return t._=r,this},I.identity=function(t){return t},I.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;i<t;i++)r[i]=e.call(n,i);return r},I.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};R.unescape=I.invert(R.escape);var B={escape:new RegExp("["+I.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+I.keys(R.unescape).join("|")+")","g")};I.each(["escape","unescape"],function(t){I[t]=function(e){return null==e?"":(""+e).replace(B[t],function(e){return R[t][e]})}}),I.result=function(t,e){if(null!=t){var n=t[e];return I.isFunction(n)?n.call(t):n}},I.mixin=function(t){x(I.functions(t),function(e){var n=I[e]=t[e];I.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),F.call(this,n.apply(I,t))}})};var P=0;I.uniqueId=function(t){var e=++P+"";return t?t+e:e},I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;I.template=function(t,e,n){var r;n=I.defaults({},n,I.templateSettings);var i=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(U,function(t){return"\\"+k[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(t){throw t.source=s,t}if(e)return r(e,I);var a=function(t){return r.call(this,t,I)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},I.chain=function(t){return I(t).chain()};var F=function(t){return this._chain?I(t).chain():t};I.mixin(I),x(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];I.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),x(["concat","join","slice"],function(t){var e=o[t];I.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),I.extend(I.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],37:[function(t,e,n){function r(){var t=localStorage.getItem("favoriteStops");return null==t?[]:JSON.parse(t)}function i(t){localStorage.setItem("favoriteStops",JSON.stringify(t))}function o(){var t=r();b=t,p(t)}function s(t){var e=r(),n=0,o=!1;for(n=0;n<b.length;n++){var s=b[n];if(s.number==t){e.push(s),o=!0;break}}o?i(e):g(t,function(t){e.push(t),i(e)})}function a(t){var e=r(),n=0;for(n=0;n<e.length;n++)if(e[n].number==t){e.splice(n,1);break}i(e)}function u(t){var e=r(),n=0;for(n=0;n<e.length;n++)if(e[n].number==t)return!0;return!1}function c(t,e){v.parseString(t,function(t,n){var r=n["soap:Envelope"]["soap:Body"][0]["ns2:getTiemposNodoResponse"][0].tiempoNodo[0],i=r.codigo[0],o=r.descripcion[0],s=r.lineasCoincidentes[0].tiempoLinea,a=[],u=0;for(u=0;u<s.length;u++){var c=s[u],l=c.label[0],f=c.destino[0],h=c.estimacion1[0].minutos,p=c.estimacion1[0].metros,d=c.estimacion2[0].minutos,g=c.estimacion2[0].metros,m={};m.name=l,m.destiny=f,m.time1=h,m.distance1=p,m.time2=d,m.distance2=g,a.push(m)}var y={};y.number=i,y.name=o,y.lines=a,e(y)})}function l(t,e){v.parseString(t,function(t,n){var r=n["soap:Envelope"]["soap:Body"][0]["ns2:getInfoNodoResponse"][0].nodoPosicion[0],i=r.codigo[0],o=r.descripcion[0],s=r.lineasCoincidentes[0].linea,a=[],u=0;for(u=0;u<s.length;u++){var c={},l=s[u].label[0];c.name=l,a.push(c)}var f={};f.number=i,f.name=o,f.distance="",f.lines=a,e(f)})}function f(t,e){console.log("received: "+t),v.parseString(t,function(t,n){var r=[],i=n["soap:Envelope"]["soap:Body"][0]["ns2:getNodosCercanosResponse"][0].nodosCercanos[0].nodo;console.log("stops received: "+i);var o=0;for(o=0;o<i.length;o++){var s=i[o],a=s.codigo[0],u=s.descripcion[0],c=s.proximidad[0],l=s.lineasCoincidentes[0].linea,f=[],h=0;for(h=0;h<l.length;h++){var p={},d=l[h].label[0];p.name=d,f.push(p)}var g={};g.number=a,g.name=u,g.distance=c,g.lines=f,r.push(g)}e(r)})}function h(t,e){e==t.length-1&&(t[e][w.lastItem]=e),Pebble.sendAppMessage(t[e],function(n){++e<t.length?h(t,e):Pebble.sendAppMessage({endMessage:19})},function(t){})}function p(t){if(t.length>0){var e=[],n=0;for(n=0;n<t.length;n++){var r=t[n];(s={})[w.appendStop]=n,s[w.stopNumber]=r.number,s[w.stopName]=r.name;var i=[],o=0;for(o=0;o<r.lines.length;o++)i.push(r.lines[o].name);s[w.stopLines]=i.join(", "),s[w.stopFavorite]=u(r.number)?1:0,e.push(s)}h(e,0)}else{var s={};s[w.noBusStops]=1,Pebble.sendAppMessage(s,function(t){Pebble.sendAppMessage({endMessage:19})},function(t){})}}function d(t){var e='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" targetNamespace="http://impl.services.infotusws.tussam.com/" xmlns:ns1="http://services.infotusws.tussam.com/" xmlns:ns2="http://schemas.xmlsoap.org/soap/http" ><soap:Body><getTiemposNodo xmlns="http://services.infotusws.tussam.com/"><codigo xmlns="">'+t+"</codigo></getTiemposNodo></soap:Body></soap:Envelope>",n=new XMLHttpRequest;n.open("POST","http://www.infobustussam.com:9005/InfoTusWS/services/InfoTus?WSDL",!0),n.setRequestHeader("Authorization","Basic "+E.encode("infotus-usermobile:2infotus0user1mobile2")),n.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n.setRequestHeader("SOAPAction",""),n.setRequestHeader("deviceid",Pebble.getAccountToken()),n.onload=function(t){if(4==n.readyState)if(200==n.status)try{c(n.responseText,function(t){console.log("message"+JSON.stringify(t));var e=[],n=0,r=u(t.number)?1:0;for(n=0;n<t.lines.length;n++){var i=t.lines[n],o={};o[w.appendLine]=n,o[w.lineNumber]=i.name,o[w.bus1Time]=i.time1>=0?i.time1+" min. ("+i.distance1+"m.)":"",o[w.bus2Time]=i.time2>=0?i.time2+" min. ("+i.distance2+"m.)":"",o[w.stopName]=t.name,o[w.stopNumber]=t.number,o[w.stopFavorite]=r,e.push(o)}h(e,0)})}catch(t){Pebble.sendAppMessage({fail:1},function(t){Pebble.sendAppMessage({endMessage:19})})}else console.log("Error")},n.send(e)}function g(t,e){var n='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" targetNamespace="http://impl.services.infotusws.tussam.com/" xmlns:ns1="http://services.infotusws.tussam.com/" xmlns:ns2="http://schemas.xmlsoap.org/soap/http" ><soap:Body><getInfoNodo xmlns="http://services.infotusws.tussam.com/"><codigo xmlns="">'+t+"</codigo></getInfoNodo></soap:Body></soap:Envelope>",r=new XMLHttpRequest;r.open("POST","http://www.infobustussam.com:9005/InfoTusWS/services/InfoTus?WSDL",!0),r.setRequestHeader("Authorization","Basic "+E.encode("infotus-usermobile:2infotus0user1mobile2")),r.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r.setRequestHeader("SOAPAction",""),r.setRequestHeader("deviceid",Pebble.getAccountToken()),r.onload=function(t){if(4==r.readyState)if(200==r.status)try{l(r.responseText,function(t){e(t)})}catch(t){console.log("Error decoding JSON or onFinish method")}else console.log("Error")},r.send(n)}function m(t){console.log("latitude: "+t.coords.latitude),console.log("longitude: "+t.coords.longitude);var e='<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" targetNamespace="http://impl.services.infotusws.tussam.com/" xmlns:ns1="http://services.infotusws.tussam.com/" xmlns:ns2="http://schemas.xmlsoap.org/soap/http"><soap:Body><getNodosCercanos xmlns="http://services.infotusws.tussam.com/"><latitud xmlns="">'+t.coords.latitude+'</latitud><longitud xmlns="">'+t.coords.longitude+'</longitud><radio xmlns="">400</radio></getNodosCercanos></soap:Body></soap:Envelope>',n=new XMLHttpRequest;n.open("POST","http://www.infobustussam.com:9005/InfoTusWS/services/InfoTus?WSDL",!0),n.setRequestHeader("Authorization","Basic "+E.encode("infotus-usermobile:2infotus0user1mobile2")),n.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n.setRequestHeader("SOAPAction",""),n.setRequestHeader("deviceid",Pebble.getAccountToken()),n.onload=function(t){if(4==n.readyState)if(200==n.status||0==n.status)try{f(n.responseText,function(t){b=t,p(t)})}catch(t){Pebble.sendAppMessage({fail:1},function(t){Pebble.sendAppMessage({endMessage:19})})}else console.log("Error")},n.send(e)}function y(t){console.log("location error ("+t.code+"): "+t.message+"[Debera notificarse]"),Pebble.sendAppMessage({fail:1},function(t){Pebble.sendAppMessage({endMessage:19})})}var v=t("xml2js"),b=[],w=t("message_keys"),E={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,r,i,o,s,a,u="",c=0;for(t=E._utf8_encode(t);c<t.length;)i=(e=t.charCodeAt(c++))>>2,o=(3&e)<<4|(n=t.charCodeAt(c++))>>4,s=(15&n)<<2|(r=t.charCodeAt(c++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return u},decode:function(t){var e,n,r,i,o,s,a="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=this._keyStr.indexOf(t.charAt(u++))<<2|(i=this._keyStr.indexOf(t.charAt(u++)))>>4,n=(15&i)<<4|(o=this._keyStr.indexOf(t.charAt(u++)))>>2,r=(3&o)<<6|(s=this._keyStr.indexOf(t.charAt(u++))),a+=String.fromCharCode(e),64!=o&&(a+=String.fromCharCode(n)),64!=s&&(a+=String.fromCharCode(r));return a=E._utf8_decode(a)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},_utf8_decode:function(t){for(var e="",n=0,r=c1=c2=0;n<t.length;)(r=t.charCodeAt(n))<128?(e+=String.fromCharCode(r),n++):r>191&&r<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return e}},_={timeout:3e3,maximumAge:6e5};Pebble.addEventListener("appmessage",function(t){console.log("Received message: "+JSON.stringify(t.payload)),t.payload.favorites&&o(),t.payload.near&&(console.log("Solicitando la ubicacin... "),navigator.geolocation.getCurrentPosition(m,y,_));t.payload.addFavorite&&s(t.payload.addFavorite),t.payload.removeFavorite&&a(t.payload.removeFavorite),t.payload.fetchStopDetail&&d(t.payload.fetchStopDetail)}),Pebble.addEventListener("ready",function(){console.log("PebbleKit JS ready."),Pebble.sendAppMessage({AppKeyJSReady:1})})},{xml2js:17}]},{},[37]);